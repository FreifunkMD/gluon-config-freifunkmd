{
	hostname_prefix => 'magdeburg',
	site_name => 'Freifunk Magdeburg',
	site_code => 'ffmd',
	release => '0.1' . nightly,

	prefix4 => '172.27.0.0/15',
	prefix6 => '',

	timezone => 'CET-1CEST,M3.5.0,M10.5.0/3', # Europe/Berlin
	ntp_servers => ['1.ntp.services.ffhl'],
	regdom => 'DE',

	wifi24 => {
		ssid => 'md.freifunk.net',
		channel => 1,
		htmode => 'HT40+',
		mesh_ssid => '02:D1:11:37:FD:45',
		mesh_bssid => '02:D1:11:37:FD:45',
		mesh_mcast_rate => 12000,
	},
	wifi5 => {
		ssid => 'md.freifunk.net (5GHz)',
		channel => 44,
		htmode => 'HT40+',
		mesh_ssid => '02:D1:11:37:FD:45',
		mesh_bssid => '02:D1:11:37:FD:45',
		mesh_mcast_rate => 12000,
	},

	next_node => {
		ip4 => '172.27.0.1',
		ip6 => '',
		mac => '',
	},

	fastd_mesh_vpn => {
		methods => ['salsa2012+gmac'],
		mtu => 1426,
		backbone => {
			limit => 2,
			peers => {
				fastd1 => {
					key => '4cd9f8cafd8ee0b24378651252815ddc731d55c4db3c9644d8ee860ecc8df5d2',
					remotes => ['ipv4 "fastd1.md.freifunk.net" port 10000'],
				},
				fastd2 => {
					key => '23731bc411ef17129163bfedc5ecc7f5df05d46fed0f56d92028d082704474be',
					remotes => ['ipv4 "fastd2.md.freifunk.net" port 10000'],
				},
				fastd3 => {
					key => '85f2c53539d2bc611e5b1fbef8c3062c13f9d42b5a60556705c1232345da4784',
					remotes => ['ipv4 "fastd3.md.freifunk.net" port 10000'],
				},
				fastd4 => {
					key => '3a521a92367c27156483edb5077947c38da8c7959c139b19361309b43c26b9be',
					remotes => ['ipv4 "fastd4.md.freifunk.net" port 10000'],
				},
				fastd5 => {
					key => '2c39c2d4839f23620b489e8d3a089565939ace1e31980b0af2a27e052e82dc70',
					remotes => ['ipv4 "fastd5.md.freifunk.net" port 10000'],
				},
				fastd6 => {
					key => '0838587a7f857e878710098bcd55eaa49c09058c38c0a99713435b1d567e6980',
					remotes => ['ipv4 "fastd6.md.freifunk.net" port 10000'],
				},
				fastd7 => {
					key => '14ac8a4abe231808e4d16d6096f7fd2a66b17a68c0ab9b12d3bb71b13ff32c64',
					remotes => ['ipv4 "fastd7.md.freifunk.net" port 10000'],
				},
				fastd8 => {
					key => 'c8b3e470e18f879c50206eb12bd94bf319b48ca0b721258bb4bef045c5ea08ab',
					remotes => ['ipv4 "fastd8.md.freifunk.net" port 10000'],
				},
				fastd9 => {
					key => '4f856d95bd596ac7724edca73a19e6e9d142b374df27166bb1a78e58785efc59',
					remotes => ['ipv4 "fastd1kbu.md.freifunk.net" port 10000'],
				},
				fastd10 => {
					key => 'e1916b66c4f8a795e217877cf72607d952e796463c7024dd9a6a47ae2929bc10',
					remotes => ['ipv4 "fastd2kbu.md.freifunk.net" port 10000'],
				},
				fastd11 => {
					key => 'd56181dfe9b5ac7cfe68a94c0ce406322a9924286a751673da0dcb28ad5218b0',
					remotes => ['ipv4 "fastd3kbu.md.freifunk.net" port 10000'],
				},
				fastd12 => {
					key => '9b3f65f99963343e2785c8c4fad65e70b73ee7e1205d63bd84f3e2decb53e621',
					remotes => ['ipv4 "fastd4kbu.md.freifunk.net" port 10000'],
				},
				},
			},
		},
	},

	autoupdater => {
		enabled => 1,
		branch => 'experimental',
		branches => {
			stable => {
				name => 'stable',
				mirrors => [''],
				probability => 0.08,
				good_signatures => 2,
				pubkeys => [
					'daa19b44bbd7033965e02088127bad9516ba0fea8f34267a777144a23ec8900c', # Linus
					'a8dd60765b07330a4bbfdf8406102befca132881a4b65f3efda32cf2d5b362d9', # Nils
					'323bd3285c4e5547a89cd6da1f2aef67f1654b0928bbd5b104efc9dab2156d0b', # NeoRaider
				],
			},
			beta => {
				name => 'beta',
				mirrors => [''],
				probability => 0.08,
				good_signatures => 2,
				pubkeys => [
					'daa19b44bbd7033965e02088127bad9516ba0fea8f34267a777144a23ec8900c', # Linus
					'a8dd60765b07330a4bbfdf8406102befca132881a4b65f3efda32cf2d5b362d9', # Nils
					'323bd3285c4e5547a89cd6da1f2aef67f1654b0928bbd5b104efc9dab2156d0b', # NeoRaider
				],
			},
			experimental => {
				name => 'experimental',
				mirrors => [''],
				probability => 1.00,
				good_signatures => 1,
				pubkeys => [
					'496136b37e5f561dfdf523611f14e4b6bc2a745cbc1ab7daffa59fded5f202d1', # philae
				],
			},
		},
	},

	simple_tc => {
		mesh_vpn => {
			ifname => 'mesh-vpn',
			enabled => 0,
			limit_egress => 200,
			limit_ingress => 3000,
		},
	},

	config_mode => {
		msg_welcome => <<'END',
Willkommen zum Einrichtungsassistenten für deinen neuen Magdeburger
Freifunk-Knoten. Fülle das folgende Formular deinen Vorstellungen
entsprechend aus und sende es ab.
END
		msg_pubkey => <<'END',
Dies ist der öffentliche Schlüssel deines Freifunkknotens. Erst nachdem
er auf den Servern des Magdeburger Freifunk-Projektes eingetragen wurde,
kann sich dein Knoten mit dem Magdeburg Mesh-VPN zu verbinden. Bitte
schicke dazu diesen Schlüssel und den Namen deines Knotens
(<em><%=hostname%></em>) an
<a href="mailto:keys@md.freifunk.net">keys@md.freifunk.net</a>.
END
		msg_reboot => <<'END',
<p>
Dein Knoten startet gerade neu und wird anschließend versuchen,
sich anschließend mit anderen Freifunkknoten in seiner Nähe zu
verbinden. Weitere Informationen zur Magdeburger Freifunk-Community findest du auf
<a href="https://md.freifunk.net/">unserer Webseite</a>.
</p>
<p>
Viel Spaß mit deinem Knoten und der Erkundung von Freifunk!
</p>
END
	},

	legacy => {
	       version_files => ['/etc/.freifunk_version_keep', '/etc/.lff_version_keep'],
	       old_files => ['/etc/config/config_mode', '/etc/config/ffhl', '/etc/config/freifunk'],

	       config_mode_configs => ['config_mode.@wizard[0]', 'ffhl.@wizard[0]', 'freifunk.@wizard[0]'],
	       fastd_configs => ['ffhl_mesh_vpn', 'mesh_vpn'],
	       mesh_ifname => 'freifunk',
	       tc_configs => ['ffhl.@bandwidth[0]', 'freifunk.@bandwidth[0]'],
	       wifi_names => ['wifi_freifunk', 'wifi_freifunk5', 'wifi_mesh', 'wifi_mesh5'],
	},
}
